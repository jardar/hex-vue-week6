import{_ as l,a as i,h as c,o as m,c as p,d as s,i as r,v as d}from"./index-1d1635aa.js";const{VITE_API_EMAIL:u,VITE_API_PASS:_}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"jardar",BASE_URL:"/hex-vue-week6/",MODE:"production",DEV:!1,PROD:!0},h={data(){return{email:u,pass:_}},methods:{handleLogin(){(this.email==""||this.pass=="")&&alert("請輸入帳密"),i.post(`${c.epLogin}`,{username:this.email,password:this.pass}).then(e=>{document.cookie=`myToken=${e.data.token}; expires=${new Date(e.data.expires)};`,i.defaults.headers.common.Authorization=e.data.token,this.$router.replace("/adm/products")}).catch(e=>{alert(e.response.data.message||"error")})}}},f={id:"app"},w={class:"container"},v={class:"row justify-content-center"},x=s("h1",{class:"h3 mb-3 font-weight-normal"},"請先登入",-1),g={class:"col-8"},b={id:"form",class:"form-signin"},E={class:"form-floating mb-3"},V=s("label",{for:"username"},"Email address",-1),k={class:"form-floating"},A=s("label",{for:"password"},"Password",-1),I=s("p",{class:"mt-5 mb-3 text-muted"},"© 2021~∞ - 六角學院",-1);function P(e,o,L,T,a,n){return m(),p("div",f,[s("div",w,[s("div",v,[x,s("div",g,[s("form",b,[s("div",E,[r(s("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>a.email=t),type:"email",class:"form-control",id:"username",placeholder:"name@example.com",required:"",autofocus:""},null,512),[[d,a.email]]),V]),s("div",k,[r(s("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>a.pass=t),type:"password",class:"form-control",id:"password",placeholder:"Password",required:""},null,512),[[d,a.pass]]),A]),s("button",{onClick:o[2]||(o[2]=(...t)=>n.handleLogin&&n.handleLogin(...t)),class:"btn btn-lg btn-primary w-100 mt-3",type:"button"}," 登入 ")])])]),I])])}const D=l(h,[["render",P]]);export{D as default};
